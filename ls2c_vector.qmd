---
toc: true
toc-depth: 3
echo: true
eval: true
output: true
---

# 2C: Character Vector and Factor

## Readings

From **R Coding Basics: An Introduction to the Basics of Coding in R** by Dr. Gaston Sanchez:

-   [Factors](https://www.gastonsanchez.com/R-coding-basics/2-01-factors.html)

## Topics

-   Character vector

-   Useful functions for character vector

-   Factor

## Character vector

-   Data can be in the form of specific categories that describe a certain characteristic.

-   Categories such as gender, color, nationality, and college major are said to be **nominal** because they have [no]{.underline} natural ordering.

-   In contrast, categories such as education level, customer satisfaction, and Likert scale responses, are **ordinal** because they do have a natural ordering.

-   In R, a **character vector** is often used to represent nominal categories.

```{r}
#| eval: false

# character vector
c('male', 'female', 'female', 'male', 'female')  
c('Math', 'Data Science', 'Math', 'Computer Science', 'Data Science')  
```

## Useful functions for character vector

### The `nchar()` function

-   `nchar()` counts the number of characters of each element.

```{r}

v <- c('Data', 'science', 'is', 'fun', 'and', 'challenging')
nchar(v)
```

ðŸ’» **Hands-On**

Write R code to count the number of characters of the following vector:

```{r}
towns <- c('Glassboro', 'Clayton', 'Pitman', 'Deptford')
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

nchar(towns)
```
:::

### The `strsplit()` function

-   `strsplit()` splits a string into words.

```{r}

strsplit('Data science is fun and challenging', split = ' ')
```

ðŸ’» **Hands-On**

Write R code extract words in the following string:

```{r}
#> 'Name,Age,Major,GPA,Hobbies'
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

strsplit('Name,Age,Major,GPA,Hobbies', split = ',')
```
:::

### The `paste()` function
    
-   `paste()` concatenates elements of character vectors

```{r}

paste(towns, 'NJ')

paste(towns, 'NJ', sep = ' ')

paste(towns, 'NJ', sep = ', ')

paste(towns, 'NJ', sep = ' in ')
```

ðŸ’» **Hands-On**

Write R code to generate the following output:

```{r}
#| eval: false

#> [1] "Glassboro Township" "Clayton Township"   "Pitman Township"   
#> [4] "Deptford Township"
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

paste(towns, 'Township', sep = ' ')
```
:::

ðŸ’» **Hands-On**

What does the `paste0()` function does?

```{r}
towns <- c('Glassboro', 'Clayton', 'Pitman', 'Deptford')

paste0(towns, 'NJ')
```

::: {.callout-tip collapse="true"}
## Answer

`paste0` is a shortcut for `paste(..., sep = '')` (no separator)

```{r}

towns <- c('Glassboro', 'Clayton', 'Pitman', 'Deptford')

paste0(towns, 'NJ')
```
:::

-   Thanks to vectorization, `paste()` allows corresponding elements to be concatenated.

```{r}

first_names <- c('James', 'Robert', 'Mary')
last_names  <- c('Smith', 'Williams', 'Brown')

paste(first_names, last_names)
```

ðŸ’» **Hands-On**

Write R code to generate the following output:

```{r}
#| eval: false

#> [1] "Smith, James"     "Williams, Robert" "Brown, Mary"
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

paste(last_names, first_names, collapse = ', ')
```
:::

ðŸ’» **Hands-On**

Write R code to generate the following output:

```{r}
#| eval: false


#> [1] "Glassboro, NJ 08028" "Clayton, NJ 08312"   "Pitman, NJ 08071"   
#> [4] "Deptford, NJ 08096" 
```

::: {.callout-tip collapse="true"}
## Answer

```{r}
zip_code <- c('08028', '08312', '08071', '08096')

paste0(towns, ', NJ ', zip_code)
```
:::

## Factor

-   A **factor** is a specialized data structure for categories, especially ordinal categories.

-   It behaves like a vector but has additional attributes.

-   A factor displays categories (levels) but stores them internally as integers.

-   A factor is created from a character vector using the `factor()` function.

```{r}
#| eval: false

### Nominal factor

#> [1] O  A  AB O  O  B  A  B  AB
#> Levels: A B AB O

### Ordinal factor

#>  [1] extra hot mild      hot       mild      medium    extra hot mild     
#>  [8] medium    extra hot medium    extra hot mild     
#> Levels: mild < medium < hot < extra hot
```

ðŸ’» **Hands-On**

Create a nominal factor from the following character vector:

```{r}
blood <- c('O', 'A', 'AB', 'O', 'O', 'B', 'A', 'B', 'AB')
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

factor(blood, levels = c('O', 'A', 'B', 'AB'))
```
:::

ðŸ’» **Hands-On**

Create an ordinal factor from the following character vector:

```{r}
pepper <- c('extra hot', 'mild', 'hot', 'mild', 'medium', 'extra hot', 
            'mild', 'medium', 'extra hot', 'medium', 'extra hot', 'mild')
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

factor(pepper, levels = c('mild', 'medium', 'hot', 'extra hot'), ordered = TRUE)
```
:::

ðŸ’» **Hands-On**

Create an ordinal factor from the following character vector:

```{r}
shirts <- c('L', 'XL', 'XL', 'L', 'M', 'S', 'S', 'XL', 'M', 'S', 'L', 'S')
```

::: {.callout-tip collapse="true"}
## Answer

```{r}

factor(shirts, levels = c('S', 'M', 'L', 'XL'),
       labels = c('Small', 'Medium', 'Large', 'Extra Large'))
```
:::